Бинарные операторы и создание флагов

# Бинарные операторы

Бинарные операторы работают с числами на уровне битов.
Они позволяют выполнять операции на двоичных представлениях целых чисел, манипулируя отдельными битами.

### Основные бинарные операторы

|                     |          |                                                                 |
|---------------------|----------|-----------------------------------------------------------------|
| **И**               | `&`      | Возвращает 1, если оба соответствующих бита — 1                 |
| **ИЛИ**             | `&#x7c;` | Возвращает 1, если хотя бы один из соответствующих битов — 1    |
| **ИСКЛЮЧАЮЩАЯ ИЛИ** | `^`      | Возвращает 1, если один из соответствующих битов — 1, но не оба |
| Отрицание           | `~`      | Инвертирует каждый бит числа (включая знак)                     |
| Сдвиг влево         | `<<`     | Сдвигает биты числа влево, добавляя справа нули                 |
| Сдвиг вправо        | `>>`     | Сдвигает биты числа вправо, заполняя левую часть нулями<br>(или единицами для отрицательных чисел в зависимости от представления) |

### Пример использования бинарных операторов

```python
a = 0b1100  # bin(12)  # Число 12 в двоичном формате
b = 0b1010  # bin(10)  # Число 10 в двоичном формате

# Побитовая И
a & b  # 0b1000 -> 8

# Побитовая ИЛИ
a | b  # 0b1110 -> 14

# Побитовая исключающая ИЛИ
a ^ b  # 0b0110 -> 6

# Сдвиг влево
a << 2  # 0b110000 -> 48

# Сдвиг вправо
a >> 2  # 0b0011 -> 3
```

## Создание флагов с помощью бинарных операторов

Флаги в программировании часто используются для установки нескольких состояний в одном числе,
используя каждый бит как отдельный индикатор.
Для этого применяют **битовые маски** и бинарные операторы.

### Флаги доступа к файлу
Представим, что у нас есть система с несколькими правами доступа: чтение, запись и исполнение.
Эти права можно представить как биты:

- Чтение (1-й бит): `0b001` (или `1`)
- Запись (2-й бит): `0b010` (или `2`)
- Исполнение (3-й бит): `0b100` (или `4`)

Мы можем комбинировать их с помощью бинарных операторов

```python
# Флаги доступа
READ = 0b001    # Чтение
WRITE = 0b010   # Запись
EXECUTE = 0b100 # Исполнение

# Установка прав чтения и записи
permissions = READ | WRITE  # 0b011 -> 3

# Проверка прав чтения
can_read = permissions & READ != 0  # True, т.к. чтение разрешено

# Проверка прав записи
can_write = permissions & WRITE != 0  # True, т.к. запись разрешена

# Проверка прав исполнения
can_execute = permissions & EXECUTE != 0  # False, т.к. исполнение не разрешено

# Добавление прав исполнения
permissions |= EXECUTE  # Теперь 0b111 -> 7

# Снятие прав записи
permissions &= ~WRITE  # Теперь 0b101 -> 5
```

### enum.Flag

В Python начиная с версии 3.6 можно использовать класс `Flag` из модуля `enum`,
чтобы создать флаги с более понятным интерфейсом

```python
from enum import Flag, auto

class Permissions(Flag):
    READ = auto()
    WRITE = auto()
    EXECUTE = auto()

# Установка флагов
permissions = Permissions.READ | Permissions.WRITE

# Проверка флагов
print(Permissions.READ in permissions)    # True
print(Permissions.EXECUTE in permissions) # False

# Добавление флага
permissions |= Permissions.EXECUTE
```

`auto()` в `enum.Flag` автоматически назначает уникальные битовые значения каждому флагу
