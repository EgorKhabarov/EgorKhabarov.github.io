<h3>Рекурсивное разворачивание вложенных списков любой глубины</h3>
<div class="code_element"><div class="lang_line"><text>python</text><button class="copy_code_button" onclick="CopyCode(this)"><svg width="1.2em" height="1.2em" viewBox="0 0 24 24"><use href="#icon_code_copy"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-python"><div class="highlight"><pre><span></span><span class="n">flatten</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">x</span>
    <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">lst</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span>
        <span class="n">flatten</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sub</span><span class="k">,</span> <span class="nb">list</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">[</span><span class="n">sub</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">]</span>
</pre></div></div></div>

<h3>Декоратор для мемоизации результатов функции</h3>
<div class="code_element"><div class="lang_line"><text>python</text><button class="copy_code_button" onclick="CopyCode(this)"><svg width="1.2em" height="1.2em" viewBox="0 0 24 24"><use href="#icon_code_copy"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-python"><div class="highlight"><pre><span></span><span class="n">memoize</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="p">(</span>
    <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="k">,</span> <span class="n">_cache</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">_cache</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span>
        <span class="p">(</span><span class="n">args</span><span class="k">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())),</span>
        <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="k">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="k">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div></div></div>

<h3>Разбиение списка на куски длины n</h3>
<div class="code_element"><div class="lang_line"><text>python</text><button class="copy_code_button" onclick="CopyCode(this)"><svg width="1.2em" height="1.2em" viewBox="0 0 24 24"><use href="#icon_code_copy"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-python"><div class="highlight"><pre><span></span><span class="n">chunked</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="k">,</span> <span class="n">n</span><span class="p">:</span> <span class="p">[</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="k">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="k">,</span> <span class="n">n</span><span class="p">)]</span>
</pre></div></div></div>

<h3>Уникализация последовательности с сохранением порядка</h3>
<div class="code_element"><div class="lang_line"><text>python</text><button class="copy_code_button" onclick="CopyCode(this)"><svg width="1.2em" height="1.2em" viewBox="0 0 24 24"><use href="#icon_code_copy"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-python"><div class="highlight"><pre><span></span><span class="n">uniq</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">seq</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span>
</pre></div></div></div>

<h3>Глубокий доступ к вложенным ключам словаря</h3>
<div class="code_element"><div class="lang_line"><text>python</text><button class="copy_code_button" onclick="CopyCode(this)"><svg width="1.2em" height="1.2em" viewBox="0 0 24 24"><use href="#icon_code_copy"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-python"><div class="highlight"><pre><span></span><span class="n">deep_get</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">d</span><span class="k">,</span> <span class="o">*</span><span class="n">keys</span><span class="p">:</span> <span class="nb">__import__</span><span class="p">(</span><span class="s2">&quot;functools&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">a</span><span class="k">,</span> <span class="n">k</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="k">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="k">,</span> <span class="n">keys</span><span class="k">,</span> <span class="n">d</span>
<span class="p">)</span>
</pre></div></div></div>

<h3>Группировка списка словарей по значению ключа</h3>
<div class="code_element"><div class="lang_line"><text>python</text><button class="copy_code_button" onclick="CopyCode(this)"><svg width="1.2em" height="1.2em" viewBox="0 0 24 24"><use href="#icon_code_copy"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-python"><div class="highlight"><pre><span></span><span class="n">group_by</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">seq</span><span class="k">,</span> <span class="n">key</span><span class="p">:</span> <span class="p">{</span>
    <span class="n">k</span><span class="p">:</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">seq</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">k</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div></div>