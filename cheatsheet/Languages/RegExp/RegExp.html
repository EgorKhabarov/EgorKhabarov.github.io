<p>Регуля́рные выраже́ния — формальный язык, используемый в компьютерных программах,
работающих с текстом, для поиска и осуществления манипуляций с подстроками в тексте,
основанный на использовании метасимволов.
Для поиска используется строка-образец, состоящая из символов и
метасимволов и задающая правило поиска.</p>
<h1>Обозначения</h1>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.</code></td>
<td>Один любой символ, кроме новой строки <code>\n</code></td>
</tr>
<tr>
<td><code>\d</code></td>
<td>Любая цифра ≈<code>[0-9]</code></td>
</tr>
<tr>
<td><code>\D</code></td>
<td>Любой символ, кроме цифры ≈<code>[^0-9]</code></td>
</tr>
<tr>
<td><code>\s</code></td>
<td>Любой пробельный символ (пробел, табуляция, конец строки и т.п.) ≈<code>[ \f\n\r\t\v]</code></td>
</tr>
<tr>
<td><code>\S</code></td>
<td>Любой не пробельный символ</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>Любая буква (то, что может быть частью слова), а также цифры и <code>_</code></td>
</tr>
<tr>
<td><code>\W</code></td>
<td>Любая не-буква, не-цифра и не подчёркивание</td>
</tr>
<tr>
<td><code>[ ]</code></td>
<td>Один из символов в скобках, а также любой символ из диапазона <code>a-z</code> <code>0-9</code><br>Буква <code>ё</code> не включается в общий диапазон букв!<br>Если нужен минус, его нужно указать последним или первым<br>Внутри скобок нужно экранировать только <code>]</code> и <code>\</code></td>
</tr>
<tr>
<td><code>[^ ]</code></td>
<td>Любой символ, кроме перечисленных</td>
</tr>
<tr>
<td><code>^</code></td>
<td>Начало всего текста или начало строчки текста, если <code>flags=re.MULTILINE</code></td>
</tr>
<tr>
<td><code>$</code></td>
<td>Конец всего текста или конец строчки текста, если <code>flags=re.MULTILINE</code></td>
</tr>
<tr>
<td><code>\A</code></td>
<td>Строго начало всего текста</td>
</tr>
<tr>
<td><code>\Z</code></td>
<td>Строго конец всего текста</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>Начало или конец слова (слева пусто или не-буква, справа буква и наоборот)</td>
</tr>
<tr>
<td><code>\B</code></td>
<td>Не граница слова: либо и слева, и справа буквы, либо и слева, и справа НЕ буквы</td>
</tr>
</tbody>
</table>
<h1>Квантификаторы</h1>
<p>Квантификатор — специальный ограничитель, который указывает количество возможных повторений символа,
группы символов или класса символов, находящихся в регулярном выражении перед ним.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{n}</code></td>
<td>Ровно <code>n</code> повторений</td>
</tr>
<tr>
<td><code>{m,n}</code></td>
<td>От <code>m</code> до <code>n</code> повторений включительно</td>
</tr>
<tr>
<td><code>{m,}</code></td>
<td>Не менее <code>m</code> повторений</td>
</tr>
<tr>
<td><code>{,n}</code></td>
<td>Не более <code>n</code> повторений</td>
</tr>
<tr>
<td><code>?</code></td>
<td>Ноль или одно вхождение, синоним <code>{0,1}</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>Ноль или более, синоним <code>{0,}</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td>Одно или более, синоним <code>{1,}</code></td>
</tr>
<tr>
<td><code>*?</code> <code>+?</code> <code>??</code><br><code>{m,n}?</code> <code>{,n}?</code> <code>{m,}?</code></td>
<td>По умолчанию квантификаторы жадные — захватывают максимально возможное число символов.<br>Добавление <code>?</code> делает их ленивыми, они захватывают минимально возможное число символов</td>
</tr>
</tbody>
</table>
<h1>Условные выражения</h1>
<table>
<thead>
<tr>
<th>Условное выражение</th>
<th></th>
<th>Регулярка</th>
<th>Соответствие</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(?=.)</code></td>
<td>Позитивный просмотр вперёд</td>
<td><code>Людовик(?=XVI)</code></td>
<td>ЛюдовикXV, <mark style="background-color: #999999">Людовик</mark>XVI, <mark style="background-color: #999999">Людовик</mark>XVIII, ЛюдовикLXVII, ЛюдовикXXL</td>
</tr>
<tr>
<td><code>(?!.)</code></td>
<td>Негативный просмотр вперёд</td>
<td><code>Людовик(?!XVI)</code></td>
<td><mark style="background-color: #999999">Людовик</mark>XV, ЛюдовикXVI, ЛюдовикXVIII, <mark style="background-color: #999999">Людовик</mark>LXVII, <mark style="background-color: #999999">Людовик</mark>XXL</td>
</tr>
<tr>
<td><code>(?&lt;=.)</code></td>
<td>Позитивный просмотр назад<br><strong>Длина шаблона должна быть фиксированной</strong></td>
<td><code>(?&lt;=Сергей )Иванов</code></td>
<td>Сергей <mark style="background-color: #999999">Иванов</mark>, Игорь Иванов</td>
</tr>
<tr>
<td><code>(?&lt;!.)</code></td>
<td>Негативный просмотр назад</td>
<td><code>(?&lt;!Сергей )Иванов</code></td>
<td>Сергей Иванов, Игорь <mark style="background-color: #999999">Иванов</mark></td>
</tr>
</tbody>
</table>
<h2>Выполнить операции в зависимости от того, была ли захвачена определенная группа.</h2>
<p>Формат условного выражения:</p>
<div class="code_element"><div class="lang_line"><text>regexp</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-text"><div class="highlight"><pre><span></span>(?(condition)true-regex|false-regex)
</pre></div></div></div>

<ul>
<li><code>condition</code>: Условие, которое проверяется. Обычно это номер группы захвата (например, <code>1</code> для первой группы).</li>
<li><code>true-regex</code>: Регулярное выражение, которое применяется, если условие истинно.</li>
<li><code>false-regex</code>: Регулярное выражение, которое применяется, если условие ложно (опционально).</li>
</ul>
<h3>Примеры условных выражений</h3>
<h4>Проверка наличия захваченной группы</h4>
<div class="code_element"><div class="lang_line"><text>regexp</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-text"><div class="highlight"><pre><span></span>(a)?(?(1)b|c)
</pre></div></div></div>

<ul>
<li><code>a</code> — необязательная группа.</li>
<li><code>b</code> — применяется, если <code>a</code> присутствует (т.е., если группа 1 захвачена).</li>
<li><code>c</code> — применяется, если <code>a</code> отсутствует (т.е., если группа 1 не захвачена).</li>
</ul>
<p>Совпадение: <code>ab</code> или <code>c</code>.</p>
<h4>Условные выражения с несколькими группами</h4>
<div class="code_element"><div class="lang_line"><text>regexp</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-text"><div class="highlight"><pre><span></span>(a)(?(1)b|c)(d)?
</pre></div></div></div>

<ul>
<li><code>a</code> — первая группа.</li>
<li>Если группа 1 захвачена, проверяется <code>b</code>.</li>
<li>Если группа 1 не захвачена, проверяется <code>c</code>.</li>
<li><code>d</code> — необязательная группа, которая захватывается, если предыдущий шаблон совпал.</li>
</ul>
<p>Совпадение: <code>abd</code> или <code>cd</code> или <code>ab</code> или <code>c</code>.</p>
<h1>Группы захвата</h1>
<table>
<thead>
<tr>
<th>Группа захвата</th>
<th>Название</th>
<th>Регулярка</th>
<th>Соответствие</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(?:pattern)</code></td>
<td>Незахватывающая группа</td>
<td><code>(?:abc|def)</code></td>
<td>123 <mark style="background-color: #999999">abc</mark> 456</td>
</tr>
<tr>
<td><code>(pattern)</code></td>
<td>Неименованная группа захвата</td>
<td><code>(123)</code></td>
<td>0<mark style="background-color: #999999">123</mark>4<br><div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;0(123)4&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;01234&quot;</span><span class="p">)</span><br><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># 123</span><br><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="c1"># 123</span><br><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># 01234</span><br><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>        <span class="c1"># 01234</span><br><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>   <span class="c1"># 01234</span><br></pre></div></pre></div></div></td>
</tr>
<tr>
<td><code>\1</code></td>
<td>Неименованная обратная ссылка<br>Позволяет ссылаться на ранее захваченные группы<br>по номеру порядка их появления в регулярном выражении</td>
<td><code>(\d+)-\1</code></td>
<td>1 <mark style="background-color: #999999">1-1</mark> <mark style="background-color: #999999">123-123</mark></td>
</tr>
<tr>
<td><code>(?P&lt;name&gt;pattern)</code></td>
<td>Именованная группа захвата</td>
<td><code>My name is (?P&lt;name&gt;\w+)</code></td>
<td>My name is <mark style="background-color: #999999">John</mark><br><div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;My name is (?P&lt;name&gt;\w+)&quot;</span><span class="p">)</span> \<br><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;My name is John&quot;</span><span class="p">)</span><br><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>  <span class="c1"># John</span><br><span class="n">m</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>        <span class="c1"># John</span><br></pre></div></pre></div></div></td>
</tr>
<tr>
<td><code>(?P=name)</code></td>
<td>Именованная обратная ссылка<br>Позволяет ссылаться на ранее захваченные группы по имени</td>
<td><code>(?P&lt;word&gt;\w+)\s+(?P=word)</code></td>
<td><mark style="background-color: #999999">hello hello</mark></td>
</tr>
</tbody>
</table>
<h1>Другое</h1>
<table>
<thead>
<tr>
<th>Паттерн</th>
<th>Название</th>
<th>Регулярка</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(?&gt;pattern)</code></td>
<td>Атомарная группа<br>Захватывает подстроку<br>и запрещает бэктрекинг*<br>внутри этой группы,<br>если остальная часть<br>шаблона не совпала</td>
<td><code>(?&gt;\d{3})\d</code><br>Эта конструкция сначала пытается<br>сопоставить <code>\d{3}</code>, а затем <code>\d</code>.<br>Если первое выражение не совпадает,<br>оно не пытается вернуться назад</td>
<td><mark style="background-color: #999999">1234</mark></td>
</tr>
<tr>
<td><code>(?R)</code> или <code>(?0)</code></td>
<td>Рекурсивный шаблон<br>Вставляет текущее регулярное<br>выражение внутрь самого себя</td>
<td><code>\((?:[^()]+|(?R))*\)</code><br>Это регулярное выражение<br>сопоставляет сбалансированные скобки.<br><code>re.error: unknown extension ?R at position 13</code></td>
<td><mark style="background-color: #999999">(a(b)c)</mark></td>
</tr>
<tr>
<td><code>(?P&lt;name1&gt;pattern1|(?P&lt;name2&gt;pattern2))</code></td>
<td>Условные выражения<br>с именованными группами</td>
<td></td>
<td><div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><br><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span>    <span class="sa">r</span><span class="s2">&quot;(?P&lt;name1&gt;pattern1\&#x7c;&quot;</span><br><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span>    <span class="sa">r</span><span class="s2">&quot;(?P&lt;name2&gt;pattern2))&quot;</span><br><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><br><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span>    <span class="s2">&quot;pattern2&quot;</span><br><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="p">)</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span><br><span class="unselectable"><span class="p">{</span></span><br><span class="unselectable">    <span class="s2">&quot;name1&quot;</span><span class="p">:</span> <span class="s2">&quot;pattern2&quot;</span><span class="p">,</span></span><br><span class="unselectable">    <span class="s2">&quot;name2&quot;</span><span class="p">:</span> <span class="s2">&quot;pattern2&quot;</span><span class="p">,</span></span><br><span class="unselectable"><span class="p">}</span></span><br></pre></div></pre></div></div></td>
</tr>
</tbody>
</table>
<h1>Флаги</h1>
<p><a href="https://docs.python.org/3/library/re.html#flags">https://docs.python.org/3/library/re.html#flags</a></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>re.A</code><br><code>re.ASCII</code></td>
<td><code>(?a)</code></td>
<td>По умолчанию <code>\w</code>, <code>\W</code>, <code>\b</code>, <code>\B</code>, <code>\d</code>, <code>\D</code>, <code>\s</code>, <code>\S</code> соответствуют все юникодные<br>символы с соответствующим качеством. Ускоряет работу, если все соответствия лежат внутри ASCII</td>
</tr>
<tr>
<td><code>re.I</code><br><code>re.IGNORECASE</code></td>
<td><code>(?i)</code></td>
<td>Не различать заглавные и маленькие буквы. Работает медленнее, но иногда удобно</td>
</tr>
<tr>
<td><code>re.M</code><br><code>re.MULTILINE</code></td>
<td><code>(?m)</code></td>
<td>Специальные символы <code>^</code> и <code>$</code> соответствуют началу и концу каждой строки</td>
</tr>
<tr>
<td><code>re.S</code><br><code>re.DOTALL</code></td>
<td><code>(?s)</code></td>
<td>По умолчанию символ <code>\n</code> конца строки не подходит под точку. С этим флагом точка — вообще любой символ</td>
</tr>
<tr>
<td><code>re.X</code><br><code>re.VERBOSE</code></td>
<td><code>(?x)</code></td>
<td>Пробелы внутри шаблона игнорируются, за исключением случаев,<br>когда они находятся в классе символов, или когда им предшествует неэкранированная<br>обратная косая черта, или внутри токенов,<br>таких как <code>*?</code>, <code>(?:</code> или <code>(?P&lt;...&gt;</code>. Например, и не допускаются.<br><div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><br><span class="w">   </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span><br><span class="sd">\d +  # the integral part</span><br><span class="sd">\.    # the decimal point</span><br><span class="sd">\d *  # some fractional digits</span><br><span class="sd">&quot;&quot;&quot;</span><span class="p">,</span><br>   <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="p">,</span><br><span class="p">)</span><br><span class="n">b</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\d+.\d*&quot;</span><span class="p">)</span><br><br><span class="c1"># Wrong!</span><br><span class="n">c</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><br><span class="w">   </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;(?s)</span><br><span class="sd">\d +  # the integral part</span><br><span class="sd">\.    # the decimal point</span><br><span class="sd">\d *  # some fractional digits</span><br><span class="sd">&quot;&quot;&quot;</span><br><span class="p">)</span><br></pre></div></pre></div></div></td>
</tr>
<tr>
<td><code>re.L</code><br><code>re.LOCALE</code></td>
<td><code>(?L)</code></td>
<td>Сделать <code>\w</code>, <code>\W</code>, <code>\b</code>, \Bи соответствие без учета регистра зависимым от текущей локали.<br>Этот флаг можно использовать только с шаблонами байтов</td>
</tr>
<tr>
<td><code>re.U</code><br><code>re.UNICODE</code></td>
<td></td>
<td>В Python 3 символы Unicode сопоставляются по умолчанию для <code>str</code> шаблонов.<br>Поэтому этот флаг является избыточным, <strong>не имеет никакого эффекта</strong><br>и сохраняется только для обратной совместимости</td>
</tr>
<tr>
<td><code>re.DEBUG</code></td>
<td></td>
<td>Отображение отладочной информации о скомпилированном выражении</td>
</tr>
<tr>
<td><code>re.NOFLAG</code></td>
<td></td>
<td>С версии 3.11</td>
</tr>
</tbody>
</table>
<h2>Использование модификаторов</h2>
<p>Можно объединять в одну группу: <code>(?i-sm)</code> (включает режим <code>i</code> и выключает режимы <code>s</code> и <code>m</code>)
Если требуется только в пределах группы, то шаблон после двоеточия.
Например, <code>(?-i)(?i:A)bc</code> найдёт <code>abc</code> и <code>Abc</code>, но не <code>ABC</code>.</p>
<h1>Команды</h1>
<table>
<thead>
<tr>
<th>Метод</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>re.match(    <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Match[str] | None</td>
<td>Ищет совпадение в начале строки</td>
</tr>
<tr>
<td>re.search(   <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Match[str] | None</td>
<td>Ищет первое совпадение в строке</td>
</tr>
<tr>
<td>re.findall(  <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; list</td>
<td>Возвращает список всех непересекающихся совпадений в строке</td>
</tr>
<tr>
<td>re.finditer( <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Iterator[Match[str]]</td>
<td>Возвращает итератор по всем совпадениям в строке</td>
</tr>
<tr>
<td>re.sub(      <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;repl: str | (Match[str]) -&gt; str, <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str, count: int = 0, flags: int | RegexFlag = 0<br>) -&gt; str</td>
<td>Заменяет совпадения в строке на указанный текст</td>
</tr>
<tr>
<td>re.subn(     <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;repl: str | (Match[str]) -&gt; str, <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str, count: int = 0, flags: int | RegexFlag = 0<br>) -&gt; tuple[str, int]</td>
<td>То же, что и <code>re.sub()</code>, но также возвращает количество замен</td>
</tr>
<tr>
<td>re.split(    <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;maxsplit: int = 0, flags: int | RegexFlag = 0          <br>) -&gt; list[str]</td>
<td>Разбивает строку по шаблону и возвращает список строк</td>
</tr>
<tr>
<td>re.fullmatch(<br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Match[str] | None</td>
<td>Проверяет, полностью ли строка соответствует шаблону</td>
</tr>
<tr>
<td>re.compile(  <br>&nbsp;&nbsp;&nbsp;&nbsp;pattern: str,<br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0       <br>) -&gt; Pattern[AnyStr]</td>
<td>Компилирует регулярное выражение в объект регулярного выражения</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Метод</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>re.compile(...).match(    <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Match[str] | None</td>
<td>Ищет совпадение в начале строки</td>
</tr>
<tr>
<td>re.compile(...).search(   <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Match[str] | None</td>
<td>Ищет первое совпадение в строке</td>
</tr>
<tr>
<td>re.compile(...).findall(  <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; list</td>
<td>Возвращает список всех непересекающихся совпадений в строке</td>
</tr>
<tr>
<td>re.compile(...).finditer( <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Iterator[Match[str]]</td>
<td>Возвращает итератор по всем совпадениям в строке</td>
</tr>
<tr>
<td>re.compile(...).sub(      <br>&nbsp;&nbsp;&nbsp;&nbsp;repl: str | (Match[str]) -&gt; str, <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str, count: int = 0, flags: int | RegexFlag = 0<br>) -&gt; str</td>
<td>Заменяет совпадения в строке на указанный текст</td>
</tr>
<tr>
<td>re.compile(...).subn(     <br>&nbsp;&nbsp;&nbsp;&nbsp;repl: str | (Match[str]) -&gt; str, <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str, count: int = 0, flags: int | RegexFlag = 0<br>) -&gt; tuple[str, int]</td>
<td>То же, что и <code>re.compile(...).sub()</code>, но также возвращает количество замен</td>
</tr>
<tr>
<td>re.compile(...).split(    <br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;maxsplit: int = 0, flags: int | RegexFlag = 0          <br>) -&gt; list[str]</td>
<td>Разбивает строку по шаблону и возвращает список строк</td>
</tr>
<tr>
<td>re.compile(...).fullmatch(<br>&nbsp;&nbsp;&nbsp;&nbsp;string: str,                      <br>&nbsp;&nbsp;&nbsp;&nbsp;flags: int | RegexFlag = 0                             <br>) -&gt; Match[str] | None</td>
<td>Проверяет, полностью ли строка соответствует шаблону</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="code_element"><div class="lang_line"><text>pycon</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-pycon"><div class="highlight"><pre><span></span><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
<span class="unselectable"><span class="o">...</span> </span>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;[censored(</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s2">)]&quot;</span>
<span class="unselectable"><span class="gp">...</span></span>
<span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Некоторые хорошие слова подозрительны: хор, хоровод, хороводоводовед.&quot;</span>
<span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\b[хХxX]\w*&quot;</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
<span class="unselectable"><span class="go">Некоторые [censored(7)] слова подозрительны: [censored(3)], [censored(7)], [censored(15)].</span>
</span></pre></div></div></div>

<h1>Примеры</h1>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Набор из букв и цифр (латиница)</td>
<td><code>^[a-zA-Z0-9]+$</code></td>
</tr>
<tr>
<td>Набор из букв и цифр (латиница + кириллица)</td>
<td><code>^[а-яА-ЯёЁa-zA-Z0-9]+$</code></td>
</tr>
<tr>
<td>Домен (например <code>seo-zona.ru</code>)</td>
<td><code>^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$</code></td>
</tr>
<tr>
<td>IPv4</td>
<td><code>((25[0-5]|2[0-4]\d|[01]?\d\d?).){3}(25[0-5]|2[0-4]\d|[01]?\d\d?)</code></td>
</tr>
<tr>
<td>IPv6</td>
<td><code>((^|:)([0-9a-fA-F]{0,4})){1,8}$</code></td>
</tr>
<tr>
<td>Имя пользователя<br>(с ограничением 2-20 символов,<br>которыми могут быть буквы и цифры, первый символ обязательно буква)</td>
<td><code>^[a-zA-Z][a-zA-Z0-9-_.]{1,20}$</code></td>
</tr>
<tr>
<td>Дата в формате <code>YYYY-MM-DD</code></td>
<td><code>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])</code></td>
</tr>
<tr>
<td>Дата в формате <code>DD/MM/YYYY</code></td>
<td><code>(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d</code></td>
</tr>
<tr>
<td>Целые числа и числа с плавающей точкой (разделитель точка)</td>
<td><code>-?\d+(\.\d{0,})?</code></td>
</tr>
<tr>
<td>UUID</td>
<td><code>^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$</code></td>
</tr>
<tr>
<td>Широта или долгота</td>
<td><code>-?\d{1,3}\.\d+</code></td>
</tr>
<tr>
<td>Строка в одинарных кавычках</td>
<td><code>'[^'\n]*?'</code></td>
</tr>
</tbody>
</table>
<h1>Пример атомарной группы</h1>
<p>Возьмем выражение <code>(?&gt;a|ab)c</code> и строку <code>abc</code>:</p>
<ol>
<li>Сначала регулярное выражение пытается сопоставить <code>a</code> внутри атомарной группы <code>(?&gt;a|ab)</code>.</li>
<li>После успешного совпадения с <code>a</code>, атомарная группа блокируется, и больше не возвращается назад, даже если дальнейшие совпадения не удаются.</li>
<li>Затем выражение пытается сопоставить <code>c</code>, что не удается, потому что следующий символ <code>b</code>.</li>
<li>В обычной группе регулярное выражение вернулось бы назад, чтобы попробовать сопоставить <code>ab</code> вместо <code>a</code>.<br>Но так как группа атомарная, бэктрекинг не происходит, и регулярное выражение не находит совпадения.</li>
</ol>
<div class="code_element"><div class="lang_line"><text>pycon</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-pycon"><div class="highlight"><pre><span></span><span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="n">simple_group</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(a|ab)c&quot;</span><span class="p">)</span>
<span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="n">atomic_group</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?&gt;a|ab)c&quot;</span><span class="p">)</span>
<span class="unselectable"><span class="o">&gt;&gt;&gt;</span> </span><span class="nb">print</span><span class="p">(</span><span class="n">simple_group</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>  <span class="c1"># Обычная группа</span>
<span class="unselectable"><span class="go">abc</span>
<span class="o">&gt;&gt;&gt; </span></span><span class="nb">print</span><span class="p">(</span><span class="n">atomic_group</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">))</span>  <span class="c1"># Атомарная группа</span>
<span class="unselectable"><span class="go">None</span>
<span class="o">&gt;&gt;&gt; </span></span><span class="nb">print</span><span class="p">(</span><span class="n">atomic_group</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;ac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
<span class="unselectable"><span class="go">ac</span>
</span></pre></div></div></div>

<h1>Бэктрекинг</h1>
<p><strong>Бэктрекинг (backtracking)</strong> — это процесс возврата назад по строке для поиска альтернативных путей совпадения,
если текущий путь не приводит к успешному совпадению.
Регулярные выражения могут исследовать разные комбинации символов и паттернов, чтобы найти подходящее совпадение.</p>
<h2>Пример бэктрекинга</h2>
<p>Рассмотрим регулярное выражение <code>a(b|c)*d</code> и строку <code>abbbd</code>:</p>
<ol>
<li>Начало сопоставления с <code>a</code> — успех.</li>
<li>Далее идет <code>(b|c)*</code>, которое может захватить любое количество <code>b</code> или <code>c</code>. Сначала регулярное выражение захватывает все <code>b</code>: <code>abbb</code>.</li>
<li>Теперь шаблон пытается сопоставить <code>d</code> после <code>abbb</code>. Строка заканчивается на <code>d</code>, и совпадение успешно завершается.</li>
</ol>
<p>Теперь возьмем строку <code>abbcd</code>:</p>
<ol>
<li>Начало сопоставления с <code>a</code> — успех.</li>
<li>Далее идет <code>(b|c)*</code>, которое снова захватывает все <code>b</code>: <code>abb</code>.</li>
<li>Теперь шаблон пытается сопоставить <code>d</code> после <code>abb</code>. Это неудача, потому что следующий символ <code>c</code>.</li>
<li>Регулярное выражение возвращается (бэктрекинг) к последнему совпавшему <code>b</code>, теперь пробует совпадение с <code>c</code>: <code>abbc</code>.</li>
<li>Теперь шаблон пытается сопоставить <code>d</code> после <code>abbc</code>. Строка заканчивается на <code>d</code>, и совпадение успешно завершается.</li>
</ol>
<h1>Особенности в разных языках</h1>
<h2>Java</h2>
<h3>&amp;&amp; ^</h3>
<p><code>[\w&amp;&amp;[^_]]</code> - Любой символ, подходящий под <code>\w</code>, кроме <code>_</code>.</p>
<h2>JavaScript</h2>
<h3>Создание регулярного выражения</h3>
<p>Литерал (через <code>/.../</code>)</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/pattern/</span><span class="p">;</span>
</pre></div></div></div>
<p>Конструктор (через <code>RegExp</code>)</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;pattern&quot;</span><span class="p">);</span>
</pre></div></div></div>
<blockquote>
<p>[!NOTE]
Конструктор полезен, если паттерн динамический</p>
</blockquote>
<h3>Флаги (Modifiers)</h3>
<p>Флаги изменяют поведение регулярного выражения</p>
<ul>
<li><code>g</code> — глобальный поиск (поиск всех совпадений)</li>
<li><code>i</code> — игнорировать регистр</li>
<li><code>m</code> — многострочный режим (влияет на <code>^</code> и <code>$</code>)</li>
<li><code>s</code> — позволяет <code>.</code> соответствовать символам новой строки</li>
<li><code>u</code> — поддержка юникода (для работы с многобайтовыми символами)</li>
<li><code>y</code> — «приклеенный» режим поиска (начинается с текущей позиции)</li>
</ul>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/abc/i</span><span class="p">;</span><span class="w">  </span><span class="c1">// Игнорирует регистр</span>
</pre></div></div></div>

<h3>Методы регулярных выражений</h3>
<h4>test</h4>
<p>Проверяет, есть ли совпадения
Возвращает <code>true</code> или <code>false</code></p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/hello/</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>
<h4>exec</h4>
<p>Возвращает массив с информацией о первом совпадении (или <code>null</code>, если не найдено)</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/hello/</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">regex</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span><span class="w">  </span><span class="c1">// [&#39;Hello&#39;]</span>
</pre></div></div></div>
<h4>match</h4>
<p>Метод строки, возвращает все совпадения (включая глобальные)</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ab, ac, ad&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/a./g</span><span class="p">));</span><span class="w">  </span><span class="c1">// [&#39;ab&#39;, &#39;ac&#39;, &#39;ad&#39;]</span>
</pre></div></div></div>
<h4>replace</h4>
<p>Метод строки, заменяет совпадения на новый текст</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;abc def abc&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/abc/g</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;xyz&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// &#39;xyz def xyz&#39;</span>
</pre></div></div></div>
<h4>split</h4>
<p>Разделяет строку по шаблону регулярного выражения</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;apple,banana,grape&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/,/</span><span class="p">));</span><span class="w">  </span><span class="c1">// [&#39;apple&#39;, &#39;banana&#39;, &#39;grape&#39;]</span>
</pre></div></div></div>

<h3>Особенности и полезные моменты</h3>
<h4>Использование с <code>g</code> (глобальный флаг)</h4>
<p>Для получения всех совпадений нужно использовать <code>g</code>. Без этого флага будет возвращено только первое совпадение</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/\d+/g</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;abc 123 def 456 ghi&#39;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">regex</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span><span class="w">  </span><span class="c1">// [&#39;123&#39;, &#39;456&#39;]</span>
</pre></div></div></div>
<h4>Группы (с <code>()</code>)</h4>
<p>Используй круглые скобки для группировки и захвата частей строки</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/(\d{3})-(\d{2})-(\d{4})/</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;123-45-6789&#39;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">regex</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span><span class="w">  </span><span class="c1">// [&#39;123-45-6789&#39;, &#39;123&#39;, &#39;45&#39;, &#39;6789&#39;]</span>
</pre></div></div></div>
<h4>Базовые метасимволы</h4>
<ul>
<li><code>.</code> — любой символ, кроме новой строки</li>
<li><code>\d</code> — цифра (эквивалентно <code>[0-9]</code>)</li>
<li><code>\w</code> — символ слова (буквы, цифры и подчеркивание)</li>
<li><code>\s</code> — пробельный символ (пробел, табуляция, новая строка)</li>
<li><code>\b</code> — граница слова (например, <code>\bword\b</code> найдет "word", но не "sword")</li>
<li><code>^</code> — начало строки</li>
<li><code>$</code> — конец строки</li>
</ul>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d{3}-\d{2}-\d{4}$/</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;123-45-6789&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>
<h4>Опциональные элементы (с <code>?</code>)</h4>
<p>Можно делать часть шаблона необязательной</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/colou?r/</span><span class="p">;</span><span class="w">  </span><span class="c1">// &#39;colour&#39; или &#39;color&#39;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;colour&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>
<h4>Квантификаторы</h4>
<ul>
<li><code>{n}</code> — точно n раз</li>
<li><code>{n,}</code> — n и более раз</li>
<li><code>{n,m}</code> — от n до m раз</li>
</ul>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/\d{2,4}/</span><span class="p">;</span><span class="w">  </span><span class="c1">// от 2 до 4 цифр</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;1234&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>
<h4><code>(?: ...)</code> — неконтролируемая группа</h4>
<p>Группа, которая не сохраняет свой результат в массиве (полезно для применения операторов без захвата)</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/(?:abc|def)/</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;def&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>

<h3>Работа с многобайтовыми символами и юникодом</h3>
<ul>
<li>Для работы с юникодом, можно использовать флаг <code>u</code> (юникодный режим), что позволяет работать с эмодзи и другими многобайтовыми символами</li>
</ul>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/\u{1F600}/u</span><span class="p">;</span><span class="w">  </span><span class="c1">// Эмодзи 😀</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;😀&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>
<ul>
<li><code>\p{...}</code> — для поиска символов по категориям в Unicode</li>
</ul>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/\p{Letter}/gu</span><span class="p">;</span><span class="w">  </span><span class="c1">// Все символы, которые являются буквами</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">));</span><span class="w">  </span><span class="c1">// true</span>
</pre></div></div></div>

<h3>Пример использования с <code>y</code> (прилипание)</h3>
<p>В режиме "прилипание" регулярное выражение будет искать совпадение начиная с текущей позиции в строке</p>
<div class="code_element"><div class="lang_line"><text>javascript</text><button class="copy_code_button" onclick="CopyCode(this)"><svg style="width: 1.2em;height: 1.2em;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-5-4v4h4V3h-4Z"/></svg><text class="unselectable">Copy code</text></button></div><div class="code language-javascript"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/abc/y</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;abcabc&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">));</span><span class="w">  </span><span class="c1">// [&#39;abc&#39;]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">regex</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">));</span><span class="w">  </span><span class="c1">// [&#39;abc&#39;]</span>
</pre></div></div></div>
<p>В режиме <code>y</code>, если в следующем вызове метода <code>exec()</code> нет совпадений с текущей позиции, вернется <code>null</code></p>