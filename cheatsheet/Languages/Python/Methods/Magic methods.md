# Арифметические операции

| Функция                            | Пример                      | Описание                                      |
|------------------------------------|-----------------------------|-----------------------------------------------|
| `def __eq__(self, other) -> bool:` | self `==` other             | Равенство                                     |
| `def __ge__(self, other) -> bool:` | self `>=` other             | Больше или равен                              |
| `def __gt__(self, other) -> bool:` | self `>` other              | Больше                                        |
| `def __le__(self, other) -> bool:` | self `<=` other             | Mеньше или равен                              |
| `def __lt__(self, other) -> bool:` | self `<` other              | Меньше                                        |
| `def __ne__(self, other) -> bool:` | self `!=` other             | Не равен                                      |
| `def __or__(self, other):`         | self <code>\|</code> other  | Побитовое **ИЛИ**                             |
| `def __add__(self, other):`        | self `+` other              | Сложение                                      |
| `def __and__(self, other):`        | self `&` other              | Побитовое **И**                               |
| `def __ior__(self, other):`        | self <code>\|=</code> other | Побитовое **ИЛИ** с присваиванием             |
| `def __mod__(self, other):`        | self `%` other              | Остаток от деления                            |
| `def __mul__(self, other):`        | self `*` other              | Умножение                                     |
| `def __ror__(self, other):`        | self  <code>\|</code> other | Побитовое ИЛИ с обратным присваиванием        |
| `def __sub__(self, other):`        | self `-` other              | Вычитание                                     |
| `def __xor__(self, other):`        | self `^` other              | Побитовое **ИСКЛЮЧАЮЩЕЕ ИЛИ**                 |
| `def __iadd__(self, other):`       | self `+=` other             | Сложение с присваиванием                      |
| `def __iand__(self, other):`       | self `&=` other             | Побитовое **И** с присваиванием               |
| `def __idiv__(self, other):`       | self `/=` other             | Деление с присваиванием                       |
| `def __imod__(self, other):`       | self `%=` other             | Взятие остатка от деления с присваиванием     |
| `def __imul__(self, other):`       | self `*=` other             | Умножение с присваиванием                     |
| `def __ipow__(self, other):`       | self `**=` other            | Возведение в степень с присваиванием          |
| `def __isub__(self, other):`       | self `-=` other             | Вычитание с присваиванием                     |
| `def __ixor__(self, other):`       | self `^=` other             | Побитовое **ИСКЛЮЧАЮЩЕЕ ИЛИ** с присваиванием |
| `def __radd__(self, other):`       | other `+` self              | Сложение справа                               |
| `def __rand__(self, other):`       | other `&` self              | Выполняет побитовое **И** справа              |
| `def __rdiv__(self, other):`       | other `/` self              | Деление справа                                |
| `def __divmod__(self, other):`     | `divmod`(self, other)       | Деление с остатком                            |
| `def __rdivmod__(self, other):`    | `divmod`(other, self)       | Деление с остатком справа                     |
| `def __rmod__(self, other):`       | other `%` self              | Взятие остатка от деления справа              |
| `def __rmul__(self, other):`       | other `*` self              | Умножение справа                              |
| `def __rpow__(self, other):`       | other `**` self             | Возведение в степень справа                   |
| `def __rsub__(self, other):`       | other `-` self              | Вычитание справа                              |
| `def __rxor__(self, other):`       | other `^` self              | Побитовое **ИСКЛЮЧАЮЩЕЕ ИЛИ** справа          |
| `def __floordiv__(self, other):`   | self `//` other             | Целочисленное деление                         |
| `def __ilshift__(self, other):`    | self `<<=` other            | Побитовый сдвиг влево с присваиванием         |
| `def __imatmul__(self, other):`    | self `@=` other             | Матричное умножение с присваиванием           |
| `def __irshift__(self, other):`    | self `>>=` other            | Побитовый сдвиг вправо с присваиванием        |
| `def __itruediv__(self, other):`   | self `/=` other             | Деление с присваиванием                       |
| `def __rlshift__(self, other):`    | other `<<` self             | Побитовый сдвиг влево справа                  |
| `def __rmatmul__(self, other):`    | other `@` self              | Матричное умножение справа                    |
| `def __matmul__(self, other):`     | self `@` other              | Матричное умножение                           |
| `def __rrshift__(self, other):`    | other `>>` self             | Побитовый сдвиг вправо справа                 |
| `def __rtruediv__(self, other):`   | other `/` self              | Деление справа                                |
| `def __truediv__(self, other):`    | self `/` other              | Деление                                       |
| `def __lshift__(self, other):`     | self `<<` other             | Побитовый сдвиг влево                         |
| `def __rshift__(self, other):`     | self `>>` other             | Побитовый сдвиг вправо                        |
| `def __ifloordiv__(self, other):`  | self `//=` other            | Целочисленное деление с присваиванием         |
| `def __rfloordiv__(self, other):`  | other `//` self             | Целочисленное деление справа                  |
| `def __pos__(self):`               | `+`self                     | Положительное значение объекта                |
| `def __neg__(self):`               | `-`self                     | Отрицательное значение объекта                |
| `def __invert__(self):`            | `~`self                     | Инвертированное значение объекта              |

# func call

| Функция                                          | Пример                                                                                                                                                                                                                                                                                                                                                                                                 | Описание                                                                           |
|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| `def __pow__(self, power, modulo=None):`         | `pow`(self, power, modulo)                                                                                                                                                                                                                                                                                                                                                                             | Возведение в степень                                                               |
| `def __abs__(self):`                             | `abs`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Абсолютное значение объекта                                                        |
| `def __hex__(self):`                             | `hex`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Строковое представление объекта в<br>шестнадцатеричной системе счисления           |
| `def __float__(self):`                           | `float`(self)                                                                                                                                                                                                                                                                                                                                                                                          | Представление объекта в виде числа с плавающей запятой                             |
| `def __bytes__(self):`                           | `bytes`(self)                                                                                                                                                                                                                                                                                                                                                                                          | Байтовое представление объекта                                                     |
| `def __long__(self):`                            | `int`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Длинное целочисленное представление объекта                                        |
| `def __int__(self):`                             | `int`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Целочисленное представление объекта                                                |
| `def __bool__(self) -> bool:`                    | `bool`(self)                                                                                                                                                                                                                                                                                                                                                                                           | Булево значение                                                                    |
| `def __oct__(self):`                             | `oct`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Строковое представление объекта в<br>восьмеричной системе счисления                |
| `def __len__(self):`                             | `len`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Возвращает длину объекта                                                           |
| `def __str__(self):`                             | `str`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Строковое представление объекта                                                    |
| `def __hash__(self):`                            | `hash`(self)                                                                                                                                                                                                                                                                                                                                                                                           | Хеш-значение объекта                                                               |
| `def __iter__(self):`                            | `iter`(self)                                                                                                                                                                                                                                                                                                                                                                                           | Итератор объекта                                                                   |
| `def __next__(self):`                            | `next`(self)                                                                                                                                                                                                                                                                                                                                                                                           | Следующий элемент в итерации                                                       |
| `def __round__(self, n=None):`                   | `round`(self, n)                                                                                                                                                                                                                                                                                                                                                                                       | Округленное значение                                                               |
| `def __complex__(self):`                         | `complex`(self)                                                                                                                                                                                                                                                                                                                                                                                        | Комплексное представление                                                          |
| `def __reversed__(self):`                        | `reversed`(self)                                                                                                                                                                                                                                                                                                                                                                                       | Возвращает обратный итератор объекта                                               |
| `def __unicode__(self):`                         | `unicode`(self)                                                                                                                                                                                                                                                                                                                                                                                        | Строковое представление объекта (`Python 2`)                                       |
| `def __instancecheck__(self, instance) -> bool:` | `isinstance`(obj, cls)                                                                                                                                                                                                                                                                                                                                                                                 | Проверяет, является ли объект экземпляром класса                                   |
| `def __subclasscheck__(self, subclass) -> bool:` | `issubclass`(subclass, cls)                                                                                                                                                                                                                                                                                                                                                                            | Является ли класс подклассом другого класса                                        |
| `def __call__(self, *args, **kwargs):`           | `self(*args, **kwargs)`                                                                                                                                                                                                                                                                                                                                                                                | Вызывает объект как функцию                                                        |
| `def __repr__(self):`                            | `repr`(self)                                                                                                                                                                                                                                                                                                                                                                                           | Строковое представление объекта                                                    |
| `def __subclasshook__(cls, __subclass):`         | `issubclass`(Subclass, MyClass)                                                                                                                                                                                                                                                                                                                                                                        | Проверяет, является ли класс подклассом другого класса                             |
| `def __dir__(self):`                             | `dir`(self)                                                                                                                                                                                                                                                                                                                                                                                            | Список атрибутов и методов объекта                                                 |
| `def __format__(self, format_spec):`             | <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="s2">&quot;{0:</span><span class="si">{format_spec}</span><span class="s2">}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><br></pre></div></pre></div></div> | Форматированную строку объекта                                                     |
| `def __cmp__(self, other) -> int:`               | `cmp`(self, other)                                                                                                                                                                                                                                                                                                                                                                                     | Сравнивает объекты и возвращает `-1`, `0` или `1`                                  |
| `def __aiter__(self):`                           | `aiter`(self)                                                                                                                                                                                                                                                                                                                                                                                          | Асинхронный итератор объекта                                                       |
| `def __anext__(self):`                           | `anext`(self)                                                                                                                                                                                                                                                                                                                                                                                          | Возвращает следующий элемент в асинхронной итерации                                |
| `def __coerce__(self, other):`                   | `coerce`(self, other)                                                                                                                                                                                                                                                                                                                                                                                  | Преобразует объект к общему типу с другим объектом                                 |
| `def __index__(self):`                           | `operator.index`(self)                                                                                                                                                                                                                                                                                                                                                                                 | Целочисленное представление объекта<br>для использования в индексации              |
| `def __floor__(self):`                           | `math.floor`(self)                                                                                                                                                                                                                                                                                                                                                                                     | Наибольшее целое число, меньшее или равное объекту                                 |
| `def __trunc__(self):`                           | `math.trunc`(self)                                                                                                                                                                                                                                                                                                                                                                                     | Усеченное значение объекта                                                         |
| `def __ceil__(self):`                            | `math.ceil`(self)                                                                                                                                                                                                                                                                                                                                                                                      | Наименьшее целое число, большее или равное объекту                                 |
| `def __copy__(self):`                            | `copy.copy`(self)                                                                                                                                                                                                                                                                                                                                                                                      | Создает поверхностную копию объекта                                                |
| `def __deepcopy__(self, memodict={}):`           | `copy.deepcopy`(self)                                                                                                                                                                                                                                                                                                                                                                                  | Создает глубокую копию объекта                                                     |
| `def __sizeof__(self):`                          | `sys.getsizeof`(self)                                                                                                                                                                                                                                                                                                                                                                                  | Возвращает размер объекта в байтах                                                 |
| `def __fspath__(self):`                          | `os.fspath`(self)                                                                                                                                                                                                                                                                                                                                                                                      | Возвращает строковое представление<br>объекта для использования в функции `fspath` |

# Контейнеры

| Функция                                   | Пример                                  | Описание                                            |
|-------------------------------------------|-----------------------------------------|-----------------------------------------------------|
| `def __getitem__(self, item):`            | self\[item]                             | Элемент по индексу или ключу или срезу (`slice`)    |
| `def __missing__(self, key):`             | self\[key]                              | Вызывается при отсутствии ключа в объекте           |
| `def __setattr__(self, key, value):`      | self.key = value                        | Устанавливает значение атрибута объекта             |
| `def __setitem__(self, key, value):`      | self\[key] = value                      | Устанавливает значение элемента по ключу в объекте  |
| `def __setslice__(self, i, j, sequence):` | self\[i:j] = sequence                   | Заменяет срез объекта указанной последовательностью |
| `def __delattr__(self, item):`            | `del` self.item                         | Удаляет атрибут объекта                             |
| `def __delitem__(self, key):`             | `del` self\[key]                        | Удаляет элемент по ключу                            |
| `def __delslice__(self, i, j):`           | `del` self\[i:j]                        | Удаляет срез из объекта                             |
| `def __contains__(self, item) -> bool:`   | item `in` self                          | Содержится ли элемент в объекте                     |

# Классы

| Функция                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Пример                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Описание                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `def __new__(cls, *args, **kwargs):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | instance = MyClass(args)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Создает новый обьект                                                                                                                                                   |
| `def __init__(self):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | instance = MyClass(args)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | При инициализации нового экземпляра объекта                                                                                                                            |
| `def __class__(self):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | obj_class = obj.`__class__()`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Возвращает класс объекта                                                                                                                                               |
| `def __del__(self):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `del` self                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | При удалении объекта                                                                                                                                                   |
| <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span><br>    <span class="nd">@classmethod</span><br>    <span class="k">def</span> <span class="fm">&#95;&#95;prepare&#95;&#95;</span><span class="p">(</span><span class="n">metacls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">):</span><br>        <span class="k">return</span> <span class="p">{}</span><br></pre></div></pre></div></div> | metacls.`__prepare__`(name, bases)<br><details><summary>Example</summary><div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CustomDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span><br>    <span class="k">def</span> <span class="fm">&#95;&#95;setitem&#95;&#95;</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span><br>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">!r}</span><span class="s2"> = </span><span class="si">{</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span><br>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">&#95;&#95;setitem&#95;&#95;</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span><br><br><span class="k">class</span> <span class="nc">CustomMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span><br>    <span class="nd">@classmethod</span><br>    <span class="k">def</span> <span class="fm">&#95;&#95;prepare&#95;&#95;</span><span class="p">(</span><span class="n">metacls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">custom_dict</span><span class="o">=</span><span class="n">CustomDict</span><span class="p">):</span><br>        <span class="k">return</span> <span class="n">custom_dict</span><span class="p">()</span><br><br><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">CustomMeta</span><span class="p">):</span><br>    <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><br>    <span class="n">y</span> <span class="o">=</span> <span class="mi">20</span><br><br><br><span class="sd">&quot;&quot;&quot;</span><br><span class="sd">&quot;&#95;&#95;module&#95;&#95;&quot; = &quot;&#95;&#95;main&#95;&#95;&quot;</span><br><span class="sd">&quot;&#95;&#95;qualname&#95;&#95;&quot; = &quot;MyClass&quot;</span><br><span class="sd">&quot;x&quot; = 10</span><br><span class="sd">&quot;y&quot; = 20</span><br><span class="sd">&quot;&quot;&quot;</span><br></pre></div></pre></div></div></details> | Словарь для использования в качестве<br>пространства имен класса перед его созданием<br>Например для добавления специфической<br>логики при добавлении новых атрибутов |
| `def __delete__(self, instance):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `del` instance.self                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Удаляет атрибут объекта                                                                                                                                                |
| `def __init_subclass__(cls, **kwargs):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Subclass</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span><br>    <span class="k">pass</span><br><span class="n">Subclass</span><span class="o">.</span><span class="n">&#95;&#95;init_subclass&#95;&#95;</span><span class="p">()</span><br></pre></div></pre></div></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Вызывается при создании подкласса                                                                                                                                      |
| `def __mro_entries__(self, bases):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">Base1</span><span class="p">,</span> <span class="n">Base2</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">MyMeta</span><span class="p">):</span><br>    <span class="k">pass</span><br><span class="n">MyClass</span><span class="o">.</span><span class="n">&#95;&#95;mro_entries&#95;&#95;</span><span class="p">(</span><span class="n">bases</span><span class="p">)</span><br></pre></div></pre></div></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Возвращает кортеж для обновления `MRO`<br>(Method Resolution Order)                                                                                                    |
| `def __getinitargs__(self):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | args = self.`__getinitargs__()`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Кортеж аргументов для использования при создании объекта                                                                                                               |
| `def __set_name__(self, owner, name):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span><br>    <span class="n">attr</span> <span class="o">=</span> <span class="n">MyDescriptor</span><span class="p">()</span><br><span class="n">MyClass</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">&#95;&#95;set_name&#95;&#95;</span><span class="p">(</span><span class="n">MyClass</span><span class="p">,</span> <span class="s2">&quot;attr&quot;</span><span class="p">)</span><br></pre></div></pre></div></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Вызывается при установке имени атрибута в классе                                                                                                                       |
| `def __getnewargs__(self):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | args = self.`__getnewargs__()`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Возвращает аргументы для использования<br>при создании нового экземпляра объекта                                                                                       |
| `def __getattribute__(self, item):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | value = self.`__getattribute__`("attr")                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Возвращает значение атрибута объекта<br>**Управляет всеми запросами атрибутов**                                                                                        |
| `def __getattr__(self, item):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | value = self.`__getattr__`("attr")                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Вызывается при обращении<br>к несуществующему атрибуту объекта<br>**Когда `__getattribute__` не находит атрибут**                                                      |
| `def __await__(self):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `await` self                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Возвращает объект, поддерживающий асинхронное ожидание                                                                                                                 |
| `def __class_getitem__(cls, item):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | item_type = MyGenericClass.`__class_getitem__`(Item)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Обобщенный тип объекта                                                                                                                                                 |
| `def __get__(self, instance, owner):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | value = self.`__get__`(instance, owner)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Возвращает значение атрибута объекта в классе-дескрипторе                                                                                                              |
| `def __set__(self, instance, value):`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | instance.attr = value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Устанавливает значение атрибута в экземпляре класса                                                                                                                    |

# with as

| Функция                                           | Пример                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Описание                                                 |
|---------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
| `def __enter__(self):`                            | `with self as x:`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Выполняет код при входе в блок `with`                    |
| `def __aenter__(self):`                           | `async with self as x:`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Вызывается при входе в асинхронный<br>контекстный блок   |
| `def __aexit__(self, exc_type, exc_val, exc_tb):` | <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">x</span><span class="p">:</span><br>    <span class="k">pass</span><br><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="fm">&#95;&#95;aexit&#95;&#95;</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span><br></pre></div></pre></div></div> | Вызывается при выходе из асинхронного контекстного блока |
| `def __exit__(self, exc_type, exc_val, exc_tb):`  | <div class="code" style="border-radius:.375rem .375rem;"><div class="highlight"><pre><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">x</span><span class="p">:</span><br>    <span class="k">pass</span><br><span class="bp">self</span><span class="o">.</span><span class="fm">&#95;&#95;exit&#95;&#95;</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span><br></pre></div></pre></div></div>                                                            | Вызывается при выходе из контекстного блока              |

# Pickle

| Функция                              | Пример                                            | Описание                                                                            |
|--------------------------------------|---------------------------------------------------|-------------------------------------------------------------------------------------|
| `def __setstate__(self, state):`     | obj.`__setstate__`(state)                         | Восстанавливает состояние объекта                                                   |
| `def __reduce_ex__(self, protocol):` | `pickle.loads(pickle.dumps(self, protocol))`      | Возвращает данные для использования в процессе<br>сериализации объекта с протоколом |
| `def __getstate__(self):`            | `pickle.loads(pickle.dumps(self).__getstate__())` | Возвращает состояние объекта для использования<br>в процессе сериализации           |
| `def __reduce__(self):`              | `pickle.loads(pickle.dumps(self))`                | Возвращает данные для использования<br>в процессе сериализации объекта              |


# Примеры

## \_\_class_getitem\_\_

Появился в версии 3.7 и используется в основном для поддержки аннотаций типов и работы с обобщёнными типами `generics`.
Этот метод срабатывает, когда класс вызывается с использованием синтаксиса индексации `[]`.

### Обобщённые классы (Generics)
```python
class MyClass:
    def __class_getitem__(cls, item):
        print(f"Класс вызван с параметром: {item}")
        return cls

print(MyClass[int])
# Класс вызван с параметром: <class 'int'>
# <class '__main__.MyClass'>
```

### Пример для создания обобщённых классов
`__class_getitem__` часто используется в таких библиотеках,
как `typing`, для создания обобщённых `generics` классов.

#### Пример реализации собственного Generic-класса:

```python
class MyGeneric:
    def __class_getitem__(cls, item):
        return f"{cls.__name__}[{item.__name__}]"

print(MyGeneric[int])  # MyGeneric[int]
print(MyGeneric[str])  # MyGeneric[str]
```

### Зачем нужен `__class_getitem__`?

1. **Работа с аннотациями типов.** Он упрощает создание обобщённых классов, таких как `List[int]`
или `Dict[str, int]`, поддерживая работу с типами в библиотеках, связанных с проверкой типов.
2. **Интерфейсы для собственных классов.** Если вы создаёте классы, которые должны поддерживать функциональность,
связанную с типами или шаблонами, метод `__class_getitem__` позволит вам реализовать подобную логику.
3. **Гибкость.** Он позволяет передавать классу параметры,
которые могут управлять тем, как класс себя ведёт или что возвращает.

`__class_getitem__` может работать в связке с другими магическими методами для более сложных конструкций.
Например, его можно использовать вместе с методами `__getitem__`, `__setitem__`
для создания классов, которые поддерживают индексацию и динамическое изменение поведения.

Магический метод `__class_getitem__` — это мощный инструмент для работы с обобщёнными типами и аннотациями.
С его помощью можно реализовывать гибкие и типизированные API,
которые позволяют делать код более понятным и удобным для сопровождения.


## \_\_getitem\_\_

```pycon
>>> class Example:
...     def __getitem__(self, item):
...         print(item)
...
>>> ex = Example()
>>> ex[0]
0
>>> ex[0:1]
slice(0, 1, None)
>>> ex[0:1:2]
slice(0, 1, 2)
>>> ex[:5:]
slice(None, 5, None)
>>> ex[::]
slice(None, None, None)
>>> ex[:]
slice(None, None, None)
```
