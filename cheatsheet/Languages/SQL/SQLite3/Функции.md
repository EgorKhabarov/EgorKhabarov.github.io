# SQLite Функции

## JSON

[https://www.sqlite.org/json1.html#jex](https://www.sqlite.org/json1.html#jex)

| Функция / Оператор                    | Описание                                                                                   | Пример использования                                                                                                                                                                                                |
|---------------------------------------|--------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| JSON(json)                            | Преобразует строку в формат JSON                                                           | `JSON('{"name": "John", "age": 30}')`<br>{"name":"John","age":30}                                                                                                                                                   |
| JSONB(json)                           | `JSON`, но в бинарном формате<br>для более эффективного доступа                            | `JSONB('{"name": "John", "age": 30}')`                                                                                                                                                                              |
| JSON_ARRAY(value1, value2, ...)       | Создает JSON массив из переданных аргументов                                               | `JSON_ARRAY('apple', 'banana', 'cherry')`<br>\["apple","banana","cherry"]                                                                                                                                           |
| JSONB_ARRAY(value1, value2, ...)      | `JSON_ARRAY`, но в бинарном формате                                                        | `JSONB_ARRAY('apple', 'banana', 'cherry')`                                                                                                                                                                          |
| JSON_ARRAY_LENGTH(json, \[path])      | Возвращает количество элементов<br>в массиве                                               | `JSON_ARRAY_LENGTH('\["apple", "banana", "cherry"]')`<br>3<br>`JSON_ARRAY_LENGTH('\["apple", "banana", "cherry"]', '$')`<br>3<br>`JSON_ARRAY_LENGTH('{"fruits": \["apple", "banana", "cherry"]}', '$.fruits')`<br>3 |
| JSON_ERROR_POSITION(json)             | Возвращает позицию ошибки в JSON строке,<br>если JSON недействителен                       | `JSON_ERROR_POSITION('{"name": "John", "age": 30,}')`                                                                                                                                                               |
| JSON_EXTRACT(json, path, ...)         | Извлекает значение по заданному пути                                                       | `JSON_EXTRACT('{"name": "John", "age": 30}', '$.name')`<br>John                                                                                                                                                     |
| JSONB_EXTRACT(json, path, ...)        | `JSON_EXTRACT`, но работает с бинарными JSON данными                                       | `JSONB_EXTRACT('{"name": "John", "age": 30}', '$.name')`                                                                                                                                                            |
| json -> path                          | Извлекает значение по заданному пути<br>`JSON_EXTRACT`                                     | `'{"name": "John", "age": 30}' -> '$.name'`<br>John                                                                                                                                                                 |
| json ->> path                         | Извлекает значение по заданному пути<br>и преобразует его в текст<br>`JSON_EXTRACT`        | `'{"name": "John", "age": 30}' ->> '$.name'`<br>John                                                                                                                                                                |
| JSON_INSERT(json, path, value, ...)   | Вставляет новое значение по заданному пути                                                 | `JSON_INSERT('{"name": "John"}', '$.age', 30)`<br>{"name":"John","age":30}                                                                                                                                          |
| JSONB_INSERT(json, path, value, ...)  | `JSON_INSERT`, но с бинарными JSON данными                                                 | `JSONB_INSERT('{"name": "John"}', '$.age', 30)`                                                                                                                                                                     |
| JSON_OBJECT(label1, value1, ...)      | Создает JSON объект из пар "ключ-значение"                                                 | `JSON_OBJECT('name', 'John', 'age', 30)`<br>{"name":"John","age":30}                                                                                                                                                |
| JSONB_OBJECT(label1, value1, ...)     | `JSON_OBJECT`, но в бинарном формате                                                       | `JSONB_OBJECT('name', 'John', 'age', 30)`                                                                                                                                                                           |
| JSON_PATCH(json1, json2)              | Объединяет два JSON<br>значения из второго документа<br>перезаписывают значения из первого | `JSON_PATCH('{"name": "John"}', '{"age": 30}')`<br>{"name":"John","age":30}                                                                                                                                         |
| JSONB_PATCH(json1, json2)             | `JSON_PATCH`, но с бинарными JSON данными                                                  | `JSONB_PATCH('{"name": "John"}', '{"age": 30}')`                                                                                                                                                                    |
| JSON_PRETTY(json)                     | Форматирует JSON для более удобного чтения                                                 | `JSON_PRETTY('{"name": "John", "age": 30}')`                                                                                                                                                                        |
| JSON_REMOVE(json, path, ...)          | Удаляет значение по заданному пути                                                         | `JSON_REMOVE('{"name": "John", "age": 30}', '$.age')`<br>{"name":"John"}                                                                                                                                            |
| JSONB_REMOVE(json, path, ...)         | `JSON_REMOVE`, но с бинарными JSON данными                                                 | `JSONB_REMOVE('{"name": "John", "age": 30}', '$.age')`                                                                                                                                                              |
| JSON_REPLACE(json, path, value, ...)  | Заменяет значение в JSON документе<br>по заданному пути (если путь существует)             | `JSON_REPLACE('{"name": "John", "age": 30}', '$.age', 31)`<br>{"name":"John","age":31}                                                                                                                              |
| JSONB_REPLACE(json, path, value ,...) | `JSON_REPLACE`, но с бинарными JSON данными                                                | `JSONB_REPLACE('{"name": "John", "age": 30}', '$.age', 31)`                                                                                                                                                         |
| JSON_SET(json, path, value, ...)      | Устанавливает значение по заданному пути                                                   | `JSON_SET('{"name": "John", "age": 30}', '$.age', 31)`<br>{"name":"John","age":31}                                                                                                                                  |
| JSONB_SET(json, path, value, ...)     | `JSON_SET`, но с бинарными JSON данными                                                    | `JSONB_SET('{"name": "John", "age": 30}', '$.age', 31)`                                                                                                                                                             |
| JSON_TYPE(json, \[path])              | Возвращает тип значения<br>по заданному пути в JSON документе                              | `JSON_TYPE('{"name": "John", "age": 30}')`<br>object<br>`JSON_TYPE('{"name": "John", "age": 30}', '$')`<br>object<br>`JSON_TYPE('{"name": "John", "age": 30}', '$.name')`<br>text                                   |
| JSON_VALID(json)                      | Проверяет, является ли строка<br>допустимым JSON документом                                | `JSON_VALID('{"name": "John", "age": 30}')`<br>1                                                                                                                                                                    |
| JSON_VALID(json, flags)               | `JSON_VALID`, но с флагами для проверки                                                    | `JSON_VALID('{"name": "John", "age": 30}', 0)`                                                                                                                                                                      |
| JSON_QUOTE(value)                     | Кавычит значение для включения в JSON документ                                             | `JSON_QUOTE('John')`<br>"John"                                                                                                                                                                                      |

# Функции

|             |                                                                                                                                                                                                                                                                                                                                               |
|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `MAX`       | Возвращает максимальное значение из списка аргументов.<br>может использоваться с числовыми и дата/время типами данных<br>`SELECT MAX(amount) FROM sales;`                                                                                                                                                                                     |
| `MIN`       | Возвращает минимальное значение из списка аргументов.<br>может использоваться с числовыми и дата/время типами данных<br>`SELECT MIN(amount) FROM sales;`                                                                                                                                                                                      |
| `SUM`       | Возвращает сумму аргументов.<br>может использоваться только с числовыми типами данных<br>`SELECT SUM(amount) FROM sales;`                                                                                                                                                                                                                     |
| `AVG`       | Возвращает среднее арифметическое аргументов.<br>может использоваться только с числовыми типами данных<br>`SELECT AVG(amount) FROM sales;`                                                                                                                                                                                                    |
| `COUNT`     | Возвращает количество аргументов.<br>может использоваться с различными типами данных<br>`SELECT COUNT(amount) FROM sales;`                                                                                                                                                                                                                    |
| `CONCAT`    | Соединяет строки.<br>может использоваться с типом данных строка<br>`SELECT CONCAT(first_name, ' ', last_name) as full_name FROM customers;`                                                                                                                                                                                                   |
| `UPPER`     | Преобразует строку в верхний регистр.<br>может использоваться с типом данных строка<br>`SELECT UPPER(first_name) as first_name, UPPER(last_name) as last_name FROM customers;`                                                                                                                                                                |
| `LOWER`     | Преобразует строку в нижний регистр.<br>может использоваться с типом данных строка<br>`SELECT LOWER(first_name) as first_name, LOWER(last_name) as last_name FROM customers;`                                                                                                                                                                 |
| `SUBSTR`    | Извлекает подстроку из строки. (столбец, первый символ, количество символов)<br>может использоваться с типом данных строка<br>`SELECT SUBSTR(phone, 1, 3) as area_code FROM customers;`                                                                                                                                                       |
| `TRIM`      | Удаляет пробелы из начала и конца строки.<br>может использоваться с типом данных строка<br>`SELECT TRIM(first_name) as first_name, last_name FROM customers;`                                                                                                                                                                                 |
| `LENGTH`    | Возвращает количество символов в строке.<br>может использоваться с типом данных строка<br>`SELECT first_name, LENGTH(first_name) as name_length FROM customers;`                                                                                                                                                                              |
| `ROUND`     | Округляет число до указанной точности. (столбец, кол-во знаков после запятой)<br>может использоваться с типом данных число<br>`SELECT product, ROUND(price, 2) as price FROM sales;`                                                                                                                                                          |
| `DATE`      | Преобразует строку в формат даты. (хз проверить на питоне надо)<br>может использоваться с типом данных строка и возвращает тип данных дата<br>`SELECT DATE(order_date) as order_date, product, price FROM orders;`                                                                                                                            |
| `TIME`      | Преобразует строку в формат времени. (хз проверить на питоне надо)<br>может использоваться с типом данных строка и возвращает тип данных время<br>`SELECT TIME(meeting_time) as meeting_time, topic FROM meetings;`                                                                                                                           |
| `DATETIME`  | Преобразует строку в формат даты и времени.<br>может использоваться с типом данных строка и возвращает тип данных дата/время<br>`SELECT DATETIME(event_date_time) as event_date_time, event_name FROM events;`                                                                                                                                |
| `TIMESTAMP` | Преобразует строку в формат времени с меткой времени (`timestamp`). <br>может использоваться с типом данных строка и возвращает тип данных `timestamp`<br>`SELECT TIMESTAMP(log_timestamp) as log_timestamp, log_message FROM logs;`                                                                                                          |
| `NOW`       | Возвращает текущую дату и время.<br>не требует аргументов и возвращает тип данных `timestamp`<br>`INSERT INTO orders (order_date, product, price) VALUES (NOW(), 'Shoes', 59.99);`                                                                                                                                                            |
| `COALESCE`  | Принимает неограниченное количество аргументов и возвращает первый ненулевой аргумент (???)<br>может использоваться с типами данных число, строка, дата/время и возвращает тип данных, соответствующий первому ненулевому аргументу<br>`SELECT first_name, last_name, COALESCE(email, '') as email, COALESCE(phone, '') as phone FROM users;` |
| `ISNULL`    | Проверяет, является ли значение нулевым (`NULL`).<br>принимает один аргумент и возвращает логическое значение `true`, если аргумент равен `NULL`, и `false`, если аргумент не равен `NULL`<br>`SELECT first_name, last_name, position FROM employees WHERE ISNULL(bonus);`                                                                    |
| `IFNULL`    | Проверяет, является ли значение нулевым (`NULL`).<br>принимает два аргумента и возвращает первый аргумент, если он не равен `NULL`, и второй аргумент, если первый равен `NULL`<br>`SELECT name, price, IFNULL(description, 'No description') as description FROM products;`                                                                  |

## CASE
Позволяет условно выполнять различные действия в запросе SQL
Состоит из секций `WHEN`, `THEN` и `ELSE`, где `WHEN` указывает условие,
`THEN` - действие, которое нужно выполнить при выполнении условия,
а `ELSE` - действие, которое нужно выполнить, если условие не выполнено
```sql
SELECT position,
       salary,
       CASE
           WHEN salary > 40000 THEN 'High salary'
           WHEN salary BETWEEN 30000 AND 40000 THEN 'Average salary'
           ELSE 'Low salary'
       END as salary_level
  FROM employees;
```

## IIF (IF ELSE)
Позволяет условно выполнять различные действия в запросе SQL
Принимает три аргумента: логическое выражение, возвращаемое значение при истинном условии
и возвращаемое значение при ложном условии
```sql
SELECT name,
       price,
       IIF(quantity > 0, 'In stock', 'Out of stock') as stock_status
  FROM products;
```

## ROW_NUMBER
Используется для нумерации строк в результирующем наборе данных
Используется совместно с оператором `ORDER BY` для сортировки строк по определенному критерию
```sql
SELECT ROW_NUMBER() OVER (ORDER BY quantity) as row_num,
       product_name,
       quantity,
       price
  FROM sales;
```

## RANK
Используется для нумерации строк в результирующем наборе данных
Используется совместно с оператором `ORDER BY` для сортировки строк по определенному критерию
Отличие `RANK` от `ROW_NUMBER` заключается в том, что `RANK` нумерует строки с учетом их значений
Например, если у нас есть несколько строк с одинаковым значением, то `RANK` будет устанавливать им ранг
с учетом этого одинакового значения, а не просто нумеровать их в порядке возрастания

Обратите внимание, что если бы у нас были строки с одинаковым значением количества, то они бы получили одинаковый ранг
```sql
SELECT RANK() OVER (ORDER BY quantity) as row_num,
       product_name,
       quantity,
       price
  FROM sales;
```

## DENSE_RANK
Используется для нумерации строк в результирующем наборе данных
Используется совместно с оператором `ORDER BY` для сортировки строк по определенному критерию
Отличие `DENSE_RANK` от `RANK` заключается в том, что `DENSE_RANK` нумерует строки с учетом их значений,
но не оставляет промежутки между рангами
Таким образом, если у нас есть несколько строк с одинаковым значением,
то `DENSE_RANK` будет устанавливать им ранг с учетом этого одинакового значения, но не оставляет промежутки между рангами

Обратите внимание, что если бы у нас были строки с одинаковым значением количества, то они бы получили одинаковый ранг
Отличие от `RANK` заключается в том, что `DENSE_RANK` не оставляет промежутки между рангами
```sql
SELECT DENSE_RANK() OVER (ORDER BY quantity) as row_num,
       product_name,
       quantity,
       price
  FROM sales;
```

## NTILE
Используется для разбиения результирующего набора данных на равные части
Используется совместно с оператором `ORDER BY` для сортировки строк по определенному критерию
Разбить эту таблицу на 3 равные части и пронумеровать каждую строку с учетом ее нахождения в этой части
```sql
SELECT NTILE(3) OVER (ORDER BY quantity) as group_num,
       product_name,
       quantity,
       price
  FROM sales;
```

## LAG
Используется для получения значения из предыдущей строки результирующего набора данных
Используется для сравнения значений в разных строках или для вычисления разницы между значениями
Получить таблицу с колонкой, содержащей разницу между ценой текущей строки и ценой предыдущей строки
```sql
SELECT product_name,
       price,
       LAG(price, 1) OVER (ORDER BY date) as prev_price,
       price - LAG(price, 1) OVER (ORDER BY date) as price_diff
  FROM sales;
```

|                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `EXPLAIN`                   | Используется для анализа плана выполнения запроса<br>Возвращает таблицу с информацией о том, как база данных планирует выполнить запрос, включая информацию о том,<br>какие таблицы и столбцы будут использоваться, какие индексы будут использоваться, и как будут объединяться таблицы<br>`EXPLAIN SELECT * FROM sales WHERE price > 200;`<br>Мы хотим анализировать план выполнения запроса на выборку всех строк таблицы `sales` с ценой больше `200`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `EXPLAIN ANALYZE`           | Расширение функции `EXPLAIN`, включает в себя дополнительную информацию о времени выполнения каждого этапа плана выполнения запроса<br>Эта информация может быть полезна при оптимизации запросов и изучении причин медленного выполнения<br>`EXPLAIN ANALYZE SELECT * FROM sales WHERE price > 200;`<br>(Каждая строка таблицы описывает один этап плана и содержит следующие столбцы:<br>Номер этапа<br>Тип этапа (поиск, сортировка, табулирование и т.п.)<br>Таблицы, на которые распространяется действие этапа<br>Количество строк, которое будет обработано на этом этапе<br>Время выполнения этапа)<br>Например, таблица может выглядеть следующим образом:<br>&vert; Seq &vert; Type  &vert; Table &vert; Rows &vert; Time  &vert;<br>&vert;-----&vert;-------&vert;-------&vert;------&vert;-------&vert;<br>&vert; 1   &vert; scan  &vert; sales &vert; 3    &vert; 0.001 &vert;<br>&vert; 2   &vert; sort  &vert;       &vert; 3    &vert; 0.002 &vert;<br>&vert; 3   &vert; limit &vert;       &vert; 3    &vert; 0.002 &vert;<br>Основное отличие между `EXPLAIN` и `EXPLAIN ANALYZE` заключается в том,<br>что `EXPLAIN ANALYZE` не только выводит информацию о плане выполнения запроса,<br>но и РЕАЛЬНО выполняет запрос и возвращает результат<br>Это позволяет получить более точную информацию о времени выполнения каждого этапа,<br>так как используется реальное время выполнения,<br>а не оценочные данные, которые могут быть предоставлены функцией `EXPLAIN`<br>Также `EXPLAIN ANALYZE` может показать дополнительную информацию,<br>такую как количество сканированных строк, общее время выполнения запроса и т.п.) |
| `LEAD`                      | Используется для получения значения из следующей строки результирующего набора данных<br>используется для сравнения значений в разных строках или для вычисления разницы между значениями<br>`SELECT product_name, price, LEAD(price, 1) OVER (ORDER BY date) as next_price,`<br>`price - LEAD(price, 1) OVER (ORDER BY date) as price_diff FROM sales;`<br>(получить таблицу с колонкой, содержащей разницу между ценой текущей строки и ценой следующей строки)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `ABS` (абсолютное значение) | Возвращает абсолютное значение указанного числа<br>`ABS(-5) = 5`, `ABS(3) = 3`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `ACOS` (арккосинус)         | Возвращает арккосинус указанного числа<br>Арккосинус - это угол, косинус которого равен указанному числу<br>Функция `ACOS` может принимать любое число в диапазоне от `-1` до `1`, включительно, и возвращает угол в радианах<br>`ACOS(0.5) = 1.0471975511966`, `ACOS(-1) = 3.14159265358979`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `ASIN` (арксинус)           | Возвращает арксинус указанного числа<br>Арксинус - это угол, синус которого равен указанному числу<br>Функция `ASIN` может принимать любое число в диапазоне от -1 до 1, включительно, и возвращает угол в радианах<br>`ASIN(0.5) = 0.52359877559829`<br>`ASIN(-1) = -1.5707963267949`<br>Функция `ASIN` может быть использована для вычисления угла в треугольнике, если известны два катета и гипотенуза<br>Для этого нужно воспользоваться теоремой синусов                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `ATAN` (арктангенс)         | Возвращает арктангенс указанного числа<br>Арктангенс - это угол, тангенс которого равен указанному числу<br>Функция `ATAN` может принимать любое число и возвращает угол в радианах<br>`ATAN(1) = 0.78539816339745`<br>`ATAN(-2) = -1.10714871779409`<br>Функция `ATAN` может быть использована для вычисления угла в треугольнике, если известны два катета и гипотенуза<br>Для этого нужно воспользоваться теоремой тангенсов<br>(Пример использования функции `ATAN` в SQL запросе:<br>`SELECT ATAN(2) as atan FROM DUAL;`<br>Этот запрос выполнится и вернет арктангенс числа 2, то есть `1.10714871779409`<br>Также функция `ATAN` может быть использована в качестве условия в `WHERE` клаузе, например:<br>`SELECT * FROM points WHERE ATAN(y/x) > 0.5;`<br>В этом запросе будут выбраны точки, у которых угол между осью `X` и вектором из начала координат до точки больше `0.5` радиан)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `ATAN2` (арктангенс 2)      | Возвращает арктангенс указанной точки `(y, x)`<br>Арктангенс - это угол, тангенс которого равен указанной точке<br>Функция `ATAN2` принимает два аргумента - y и x, и возвращает угол в радианах<br>`ATAN2(1, 1) = 0.78539816339745`<br>`ATAN2(-2, 2) = -0.78539816339745`<br>Функция `ATAN2` может быть использована для вычисления угла в треугольнике, если известны два катета и гипотенуза<br>Для этого нужно воспользоваться теоремой тангенсов<br>(Отличие между функциями `ATAN` и `ATAN2` в том, что `ATAN` принимает только один аргумент - тангенс угла,<br>в то время как `ATAN2` принимает два аргумента - координаты точки в декартовой системе координат<br>Это позволяет `ATAN2` вычислять угол даже если одна из координат равна нулю, чего не может сделать функция `ATAN`)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `DEGREES`                   | Преобразует радианы в градусы<br>`DEGREES(выражение_вычисляется_как_радианы)` `DEGREES(PI())`<br>`result 180`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `EXP`                       | Возвращает экспоненту (`е` в степени) заданного числа<br>`EXP(выражение_вычисляется_как_число)` `EXP(2)`<br>`result 7.38905609893065`<br>Число `e` (естественный логарифм) равно `2.718281828459045`<br>`EXP(2)` эквивалентно `e^2 = 7.38905609893065`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `FLOOR`                     | Возвращает наибольшее целое число, которое меньше или равно переданному значению<br>`FLOOR(выражение_вычисляется_как_число)` `FLOOR(3.14)` `result 3`<br>`FLOOR` отличается от `CEIL` тем, что возвращает наибольшее целое число, которое меньше или равно переданному значению,<br>в то время как `CEIL` возвращает наименьшее целое число, которое больше или равно переданному значению                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `LN`                        | Возвращает натуральный логарифм (по основанию e) заданного числа<br>`LN(выражение_вычисляется_как_число)` `LN(2)` с `result 0.693147180559945`<br>Число `e` (естественный логарифм) равно `2.718281828459045`<br>`LN(2)` эквивалентно `LN(2) = 0.693147180559945`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `LOG`                       | Возвращает логарифм заданного числа по заданному основанию<br>`LOG(выражение_вычисляется_как_число, основание_логарифма)` `LOG(100, 10)` `result 2`<br>работает так же, как и функция `LN`, но позволяет задавать основание логарифма<br>`LOG(100, 10)` эквивалентно `log10(100) = 2`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `LOG10`                     | Возвращает десятичный логарифм числа. `LOG10(выражение, которое вычисляется как число)` `LOG10(100)` `result 2`<br>всегда возвращает положительное число. Если входное число 0 или отрицательно, то результатом будет `NULL`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `MOD`                       | Возвращает остаток от деления одного числа на другое<br>`MOD(10, 3)` `result 1`<br>всегда возвращает положительное число. Если второе число равно `0`, то результатом будет `NULL`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `PI`                        | Возвращает значение математической константы Пи (`3.14159265358979323846`) `PI()` `result 3.141592653589793`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `POWER`                     | Возвращает результат возведения числа в степень<br>`POWER(основание_степени, показатель_степени)` `POWER(2, 3)` `result 8` Эквивалентно выражению `2^3 = 8`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `RADIANS`                   | Преобразует градусы в радианы<br>`RADIANS(угол в градусах)` угол в `180` градусов равен `PI` радианам (`3.141592653589793`)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `RAND`                      | Которая возвращает случайное число в диапазоне от `0` до `1`<br>`RAND()` `Результат: 0.5298371105`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `SIGN`                      | Возвращает `1`, `0` или `-1` в зависимости от того, положительное, нулевое или отрицательное число соответственно<br>`SIGN(выражение, которое вычисляется как число)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `SIN`                       | Возвращает синус угла в радианах<br>`SIN(угол в радианах)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `SQRT`                      | Возвращает квадратный корень числа<br>Всегда возвращает неотрицательный квадратный корень<br>Если вы хотите вернуть квадратный корень с отрицательным числом, то результатом будет `NULL`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `TAN`                       | Возвращает тангенс угла в радианах<br>`TAN(угол в радианах)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `CEIL` (от ceiling)         | Возвращает наименьшее целое число, которое больше или равно переданному значению<br>`CEIL(3.14)` вернет `4`, а `CEIL(-3.14)` вернет `-3`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `COS`                       | Возвращает косинус угла в градусах<br>`COS(угол в градусах)` `COS(45)` `result 0.7071067811865475`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `COT`                       | Возвращает котангенс угла в радианах<br>Котангенс угла равен обратному тангенсу угла<br>`COT(угол в радианах)` `COT(PI() / 4)` `result 1`<br>Функция `COT` работает так же, как и функция `SIN` и `TAN`, но ожидает угол в радианах.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

