# Операторы
## SELECT
Используется для извлечения данных из базы данных
Он может быть использован с другими операторами, такими как `FROM`, `WHERE` и `GROUP BY`,
чтобы определить, какие данные должны быть извлечены, из каких таблиц и с какими условиями

- `SELECT` - Какие колонки данных вы хотите извлечь
- `FROM` - Из какой таблицы нужно извлечь данные
- `WHERE` - Условие, которое должны соответствовать строки, чтобы быть включенными в результат
- `GROUP BY` - Какие колонки нужно использовать для группировки результата
- `HAVING` - Для фильтрации групп результата запроса
Он похож на оператор `WHERE`,
но он используется с оператором `GROUP BY` и применяется только к группам, а не к отдельным строкам
- `ORDER BY` - Какие колонки нужно использовать для сортировки результата,
а также порядок сортировки (по возрастанию или убыванию (`ASC|DESC`))
- `JOIN` - Используется для соединения двух таблиц в базе данных

Он может быть использован с различными типами `JOIN`, такими как `INNER JOIN`, `LEFT JOIN` и `RIGHT JOIN`,
чтобы определить, какие строки из обеих таблиц должны быть соединены
```sql
  SELECT column1,
         column2,
         ...
    FROM table_name
   WHERE condition
GROUP BY column
  HAVING condition
ORDER BY column ASC|DESC;
```

## JOIN
Это оператор SQL, который используется для соединения двух или более таблиц в базе данных
Он позволяет вам извлекать данные из разных таблиц и объединять их в одном результате
Существует разные типы `JOIN`, которые используются в зависимости от требуемого результата
Основные типы `JOIN` это:

- `INNER JOIN` - этот тип `JOIN` возвращает строки, которые содержатся в обоих таблицах
- `OUTER JOIN` - этот тип `JOIN` возвращает все строки из обоих таблиц, даже если они не совпадают

Существует два вида внешних `JOIN`: `LEFT JOIN` и `RIGHT JOIN`

## CROSS JOIN
Этот тип `JOIN` используется для создания картежного произведения двух таблиц
Он возвращает все возможные комбинации строк из двух таблиц, даже если у них нет совпадений
```sql
    SELECT column1, column2, ...
      FROM table1
CROSS JOIN table2;
```

## FULL OUTER JOIN
Используется для соединения двух таблиц
Он возвращает все строки из обеих таблиц, даже если у них нет совпадений
Если соответствующих строк нет в одной из таблиц, то в качестве значений используются `NULL`
```sql
         SELECT column1, column2, ...
           FROM table1
FULL OUTER JOIN table2
             ON table1.column = table2.column;
```

## INSERT
Используется для вставки новых строк в таблицу базы данных
Он может быть использован с `VALUES` и `SELECT`, `DEFAULT VALUES` и `SET`,
чтобы определить, какие данные нужно вставить и откуда их взять

## UPDATE
Используется для обновления существующих строк в таблице базы данных
Он может быть использован с оператором `SET`, чтобы указать, какие значения должны быть обновлены,
и с оператором `WHERE`, чтобы указать, какие строки должны быть обновлены
```sql
UPDATE table_name
   SET column1 = value1,
       column2 = value2,
       ...
 WHERE condition;
```

## DELETE
Используется для удаления строк из таблицы базы данных
Он может быть использован с оператором `WHERE`, чтобы указать, какие строки должны быть удалены
Если оператор `WHERE` не указан, то будут удалены все строки из таблицы
```sql
DELETE FROM table_name
      WHERE condition;
```

## CREATE
Используется для создания объектов в базе данных, таких как таблицы, индексы, представления, триггеры и т. д
Он может быть использован с `TABLE`, `INDEX`, `VIEW`, `TRIGGER`, чтобы указать, какой тип объекта нужно создать
```sql
CREATE object_type object_name (
    column1 datatype,
    column2 datatype,
    ...
);
```

## DROP
Используется для удаления объектов из базы данных, таких как таблицы, индексы, представления, триггеры и т. д
Он может быть использован c `TABLE`, `INDEX`, `VIEW`, `TRIGGER`, чтобы указать, какой тип объекта нужно удалить
```sql
DROP object_type object_name;
```

## ALTER
Используется для изменения структуры существующих объектов в базе данных,
таких как таблицы, индексы, представления, триггеры и т. д
Он может быть использован с `ADD`, `DROP`, `MODIFY`, `ALTER`, чтобы указать, какое изменение нужно внести
```sql
ALTER object_type object_name action;
```
Например, чтобы добавить столбец `email` к таблице `customers`, вы можете использовать следующий запрос:
```sql
ALTER TABLE customers ADD email VARCHAR(255);
```
Или, чтобы удалить столбец `age` из таблицы `customers`, вы можете использовать следующий запрос:
```sql
ALTER TABLE customers DROP age;
```

## TRUNCATE
Используется для удаления всех строк из таблицы базы данных
Он отличается от оператора `DELETE`, тем что он удаляет все строки из таблицы без проверки условий,
а также очищает данные страниц таблицы, что позволяет сократить время выполнения и уменьшить размер таблицы
```sql
TRUNCATE TABLE table_name;
```
> [!IMPORTANT]
> Обратите внимание, что оператор `TRUNCATE` не может быть отменен, поэтому используйте его с осторожностью

## WHERE
Это оператор SQL, который используется для фильтрации строк в результате запроса
Он может быть использован с операторами `SELECT`, `UPDATE`, `DELETE` и другими,
чтобы указать, какие строки должны быть включены в результат или изменены
```sql
SELECT column1, column2, ...
  FROM table_name
 WHERE condition;
```

## AND
Это логическое условие, используется в операторе `WHERE` в SQL для соединения нескольких условий
Оно возвращает `TRUE` только в том случае, если все условия равны `TRUE`
```sql
SELECT column1, column2, ...
  FROM table_name
 WHERE condition1
       AND condition2 AND ...;
```

## OR
Это логическое условие, используется в операторе `WHERE` в SQL для соединения нескольких условий
Оно возвращает `TRUE`, если хотя бы одно из условий равно `TRUE`
```sql
SELECT column1,
       column2,
       ...
  FROM table_name
 WHERE condition1
       OR condition2
       OR ...;
```

## NOT
Это логическое условие, используется в операторе `WHERE` в SQL для инвертирования условия
Оно возвращает `TRUE`, если условие равно `FALSE`, и наоборот
```sql
SELECT column1,
       column2,
       ...
  FROM table_name
 WHERE NOT condition;
```
Обратите внимание, что условие `NOT` может быть использовано совместно с другими логическими условиями, такими как `AND` и `OR`
```sql
SELECT *
  FROM customers
 WHERE NOT (name = 'John' OR age > 30);
```

## BETWEEN
Используется в операторе `WHERE` для указания диапазона значений
Он возвращает `TRUE`, если значение равно либо больше начального значения, но меньше конечного значения
```sql
 SELECT column1,
        column2,
        ...
   FROM table_name
  WHERE column
BETWEEN value1 AND value2;
```

## IN
Это оператор SQL, который используется в операторе `WHERE` для указания набора значений
Он возвращает `TRUE`, если значение равно любому из указанных значений
```sql
SELECT column1,
       column2,
       ...
  FROM table_name
 WHERE column IN (value1, value2, ...);
```
Обратите внимание, что условие `IN` может быть использовано совместно с другими логическими условиями, такими как `AND` и `OR`
```sql
SELECT *
  FROM customers
 WHERE (name IN ('John', 'Alice') AND age > 30)
       OR city = 'New York';
```

## BETWEEN
Используется для указания диапазона значений,
которые должны соответствовать условию в запросе SQL
Эквивалентен использованию оператора `>=` и `<=`
```sql
SELECT *
  FROM products
 WHERE price BETWEEN 10 AND 20;
```

## LIKE
Используется для указания условия совпадения данных с определенным шаблоном
Принимает в качестве аргумента строку с специальными символами,
которые обозначают любые символы или любое количество символов
```sql
SELECT *
  FROM customers
 WHERE email LIKE 'm%';
```

- `%` - Соответствует любому количеству символов
- `_` - Соответствует любому одному символу
- `[]` - Указывает диапазон символов, которые могут совпасть с шаблоном
Например, `[a-z]` соответствует любому одному символу от `a` до `z`
- `[^]` - Указывает диапазон символов, которые не могут совпасть с шаблоном
Например, `[^a-z]` соответствует любому символу, кроме `a-z`

## REGEXP
Используется для указания условия совпадения данных с определенным регулярным выражением
Регулярные выражения - это специальный язык, который используется для описания шаблона строки
Они позволяют создавать более сложные условия совпадения, чем может позволить `LIKE`
```sql
SELECT *
  FROM customers
 WHERE email
REGEXP 'gmail';
```

## LIMIT
Это оператор SQL, который используется для ограничения количества строк, возвращаемых запросом
Он может быть использован с операторами `SELECT`, `UPDATE` и `DELETE`
```sql
SELECT column1,
       column2,
       ...
  FROM table_name
 LIMIT number;
```
Выбрать только первые 10 клиентов
```sql
SELECT *
  FROM customers
 LIMIT 10;
```
Вы также можете указать начальное положение и количество строк,
которые должны быть возвращены, указав эти значения в операторе `LIMIT`
```sql
SELECT *
  FROM customers
 LIMIT 5, 10;
```

## ORDER BY
Это оператор SQL, который используется для сортировки результатов запроса
Он может быть использован с операторами `SELECT`, `UPDATE` и `DELETE`
```sql
  SELECT column1,
         column2,
         ...
    FROM table_name
ORDER BY column1,
         column2,
         ...
         ASC|DESC;
```
Чтобы отсортировать всех клиентов по имени в алфавитном порядке
```sql
  SELECT *
    FROM customers
ORDER BY name;
```

## GROUP BY
Это оператор SQL, который используется для группировки результатов запроса по указанному столбцу
Он обычно используется совместно с функциями агрегации, такими как `SUM`, `AVG`, `COUNT`, `MAX` и `MIN`
```sql
  SELECT column1,
         column2,
         ...
    FROM table_name
GROUP BY column1,
         column2,
         ...;
```

## HAVING
Это оператор SQL, который используется для фильтрации групп результатов запроса
Он аналогичен оператору `WHERE`, но указывается после `GROUP BY` и применяется только к группам, а не к отдельным строкам
```sql
  SELECT column1,
         column2,
         ...
    FROM table_name
GROUP BY column1,
         column2,
         ...
  HAVING condition;
```

## UNION
Это оператор SQL, который используется для объединения результатов двух или более запросов
Он возвращает уникальные строки из всех запросов
```sql
SELECT column1,
       column2,
       ...
  FROM table1
 UNION SELECT column1, column2, ... FROM table2;
```
Например, чтобы объединить результаты двух запросов и вернуть уникальные имена клиентов, вы можете использовать следующий запрос
```sql
SELECT name
  FROM customers1
 UNION SELECT name FROM customers2;
```

## DISTINCT
Убирает дубликаты из результата выборки
Возвращает уникальные значения
Может использоваться с различными типами данных
```sql
SELECT DISTINCT customer FROM sales;
```

## INTERSECT
Используется для выбора строк, которые содержатся в обоих результатах двух или более запросов
Он возвращает только уникальные строки, которые присутствуют во всех запросах
```sql
   SELECT column1,
          column2,
          ...
     FROM table1
INTERSECT SELECT column1, column2, ... FROM table2;
```
Например, чтобы выбрать те имена клиентов, которые содержатся в обоих таблицах, вы можете использовать следующий запрос
```sql
   SELECT name
     FROM customers1
INTERSECT SELECT name FROM customers2;
```
Обратите внимание, что оператор `INTERSECT` не поддерживается во всех СУБД
Вместо этого вы можете использовать вложенный запрос с `IN` или `EXISTS`

## EXCEPT
Используется для выбора строк, которые содержатся в первом запросе,
но не содержатся во втором. Он возвращает только уникальные строки,
которые присутствуют в первом запросе, но отсутствуют во втором
```sql
SELECT column1,
       column2,
       ...
  FROM table1
EXCEPT SELECT column1, column2, ... FROM table2;
```
Например, чтобы выбрать те имена клиентов, которые содержатся в первой таблице,
но не содержатся во второй, вы можете использовать следующий запрос:
```sql
SELECT name
  FROM customers1
EXCEPT SELECT name FROM customers2;
```
Обратите внимание, что оператор `EXCEPT` не поддерживается во всех СУБД
Вместо этого вы можете использовать вложенный запрос с `NOT IN` или `NOT EXISTS`

## MATCH
Используется для указания условия совпадения данных с определенным столбцом или набором столбцов в таблице
используется совместно с оператором `AGAINST`, который указывает, что ищется
```sql
SELECT *
  FROM articles
 WHERE MATCH(tags) AGAINST('SQL');
```

## USING
Это оператор SQL, который используется в соединениях `JOIN` для указания столбца, который используется для соединения таблиц
Он позволяет вам определить условие соединения с помощью одного столбца, который имеется в обеих таблицах
```sql
SELECT column1,
       column2,
       ...
  FROM table1
  JOIN table2
 USING (column);
```
Например, чтобы соединить таблицы `customers` и `orders` по столбцу `customer_id`, вы можете использовать следующий запрос:
```sql
SELECT customers.name,
       orders.order_id
  FROM customers
  JOIN orders
 USING (customer_id);
```
Обратите внимание, что оператор `USING` не поддерживается во всех СУБД.
Вместо этого вы можете использовать `ON` с условием `table1.column = table2.column` для соединения таблиц

## FOR
Это оператор SQL, который используется для задания условий в выражении `SELECT`
Он позволяет вам задать условие, которое должно быть выполнено для каждой строки результата запроса
Оператор `FOR` может использоваться только с оператором `SELECT` и только в конце запроса
Он может использоваться для указания типа блокировки, которую нужно установить на строки, выбранные в результате запроса
Существует два основных типа блокировок, которые можно установить с помощью оператора `FOR`
`FOR UPDATE` и `FOR SHARE`
Оператор `FOR UPDATE` устанавливает блокировку на строку, которая не может быть изменена или удалена другими транзакциями,
пока текущая транзакция не будет завершена
